{"ast":null,"code":"var _jsxFileName = \"/Users/JunboHe/Desktop/markdown-editor/src/pages/editor-page/listfile.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Input, message } from 'antd';\n\nclass ListFile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      files: []\n    };\n  }\n\n  onList(event) {\n    if (document.getElementById(\"input-text\").innerHTML !== \"\") {\n      document.getElementById(\"input-text\").innerHTML = event.target.title;\n      axios.post('api/file/render', {\n        text: event.target.title\n      }).then(function (res) {\n        document.getElementById(\"preview\").innerHTML = res.data;\n      }).catch(err => {\n        console.log(err);\n        message.error(\"Render file failed!\");\n      });\n    } else {\n      document.getElementById(\"input-text\").innerText = event.target.title;\n      axios.post('api/file/render', {\n        text: event.target.title\n      }).then(function (res) {\n        document.getElementById(\"preview\").innerHTML = res.data;\n      }).catch(err => {\n        console.log(err);\n        message.error(\"Render file failed!\");\n      });\n    }\n  }\n\n  async componentDidMount() {\n    const that = this;\n    axios.post('api/file/list', {\n      username: localStorage.getItem('username')\n    }).then(function (res) {\n      that.setState({\n        files: res.data\n      });\n    }).catch(err => {\n      console.log(err);\n      message.error(\"List user file failed!\");\n    });\n  }\n\n  render() {\n    if (!this.state.files.length) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"Empty Files\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, this.state.files.map(file => React.createElement(Input, {\n      id: \"file-btn\",\n      title: file.text,\n      style: {\n        border: \"none\",\n        textAlign: \"left\"\n      },\n      type: \"button\",\n      value: file.filename,\n      onClick: this.onList.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default ListFile;","map":{"version":3,"sources":["/Users/JunboHe/Desktop/markdown-editor/src/pages/editor-page/listfile.js"],"names":["React","axios","Input","message","ListFile","Component","constructor","props","state","files","onList","event","document","getElementById","innerHTML","target","title","post","text","then","res","data","catch","err","console","log","error","innerText","componentDidMount","that","username","localStorage","getItem","setState","render","length","map","file","border","textAlign","filename","bind"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { Input, message } from 'antd';\n\nclass ListFile extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            files: []\n        }\n    };\n\n    onList(event) {       \n        if (document.getElementById(\"input-text\").innerHTML !== \"\") {\n            document.getElementById(\"input-text\").innerHTML = event.target.title;\n            axios.post('api/file/render', { text: event.target.title })\n                .then(function (res) {\n                    document.getElementById(\"preview\").innerHTML = res.data;\n                }).catch((err) => {\n                    console.log(err);\n                    message.error(\"Render file failed!\");\n                });\n        }\n        else {\n            document.getElementById(\"input-text\").innerText = event.target.title;\n            axios.post('api/file/render', { text: event.target.title })\n                .then(function (res) {\n                    document.getElementById(\"preview\").innerHTML = res.data;\n                }).catch((err) => {\n                    console.log(err);\n                    message.error(\"Render file failed!\");\n                });\n        }\n\n    }\n\n    async componentDidMount() {\n        const that = this;\n        axios.post(\n            'api/file/list',\n            { username: localStorage.getItem('username') })\n            .then(function (res) {\n                that.setState({ files: res.data })\n            }).catch((err) => {\n                console.log(err);\n                message.error(\"List user file failed!\");\n            });\n    }\n\n    render() {\n        if (!this.state.files.length) {\n            return <div>Empty Files</div>\n        }\n        return (\n            <div>\n                {this.state.files.map(file => (\n                    <Input id=\"file-btn\" title={file.text} style={{ border: \"none\", textAlign: \"left\" }} type=\"button\" value={file.filename} onClick={this.onList.bind(this)} />\n                ))}\n            </div>\n        );\n    }\n\n}\n\nexport default ListFile;"]},"metadata":{},"sourceType":"module"}